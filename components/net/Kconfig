menu "Network"

menu "Socket abstraction layer"

config RT_USING_SAL
    bool "Enable socket abstraction layer"
    select RT_USING_NETDEV
    select RT_USING_SYSTEM_WORKQUEUE
    default n

    if RT_USING_SAL

        config SAL_INTERNET_CHECK
            bool "Enable the ability that check internet status"
            default y
            help
                The ability that check internet status is provided by RT-Thread.

        if RT_USING_LWIP || AT_USING_SOCKET

            menu "protocol stack implement"

                config SAL_USING_LWIP
                    bool "Support lwIP stack"
                    default y
                    depends on RT_USING_LWIP

                config SAL_USING_AT
                    bool "Support AT Commands stack"
                    default y
                    depends on AT_USING_SOCKET

                config SAL_USING_TLS
                    bool "Support MbedTLS protocol"
                    default y
                    depends on PKG_USING_MBEDTLS
            endmenu

        endif

        config SAL_USING_POSIX
            bool "Enable BSD socket operated by file system API"
            default n
            select RT_USING_POSIX_FS
            select RT_USING_POSIX_SELECT
            help
                Let BSD socket operated by file system API, such as read/write and involveed in select/poll POSIX APIs.

        if !SAL_USING_POSIX

            config SAL_SOCKETS_NUM
                int "the maximum number of sockets"
                default 16

        endif

    endif

endmenu

menu "Network interface device"

config RT_USING_NETDEV
    bool "Enable network interface device"
    default n

    if RT_USING_NETDEV

        config NETDEV_USING_IFCONFIG
            bool "Enable ifconfig features"
            default y

        config NETDEV_USING_PING
            bool "Enable ping features"
            default y

        config NETDEV_USING_NETSTAT
            bool "Enable netstat features"
            default y

        config NETDEV_USING_AUTO_DEFAULT
            bool "Enable default netdev automatic change features"
            default y

        config NETDEV_USING_IPV6
            bool "Enable IPV6 protocol support"
            default n

        config NETDEV_IPV4
            int
            default 1

        config NETDEV_IPV6
            int
            default 1 if NETDEV_USING_IPV6
            default 0 if !NETDEV_USING_IPV6

        config NETDEV_IPV6_SCOPES
            bool
            help
                Defined to synchronize the ip6_addr structure state
            default n
    endif

endmenu

source "$RTT_DIR/components/net/lwip/Kconfig"

source "$RTT_DIR/components/net/at/Kconfig"

endmenu
