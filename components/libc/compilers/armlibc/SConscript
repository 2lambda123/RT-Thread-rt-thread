from building import *
Import('rtconfig')

src   = []
cwd   = GetCurrentDir()
group = []

CPPPATH = [cwd]
CPPDEFINES = ['RT_USING_ARM_LIBC']

if rtconfig.PLATFORM == 'armcc' or rtconfig.PLATFORM == 'armclang':
    if GetDepend('RT_USING_LIBC'):
        src += Glob('*.c')

    elif GetDepend('RT_USING_POSIX'):
        src += ['libc.c', 'stdio.c']
    
    group = DefineGroup('libc', src, depend = [], CPPPATH = CPPPATH, CPPDEFINES = CPPDEFINES)

Return('group')
